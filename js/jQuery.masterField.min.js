(function(a,b,c){var e="masterField";defaults={repeatElements:"",IdBoxNumberAdding:"",buttomAdd:!0,buttomDelete:!0};var f=0,g=function(b,c){this.element=b,this.jElement=a(b),this.jHijos=this.jElement.children(),this.jHijos.each(function(b,c){a(c).attr("name","master-field-"+a(c).attr("id"))}),this.jHijos.addClass("simple-master-field"),this.jClon=this.jElement.clone(),this.options=a.extend({},defaults,c),this._defaults=defaults,this._name=e,this.init()};g.prototype={init:function(){h.formatear(this.jElement,this.jHijos,this.options),h.eventAddElement(this.jClon,this.options),h.eventDeleteElement()},addElement:function(){var a={jClon:this.jClon,options:this.options},b={data:a};h.crearObj(b)}};var h={debug:function(a){b.console&&b.console.log&&b.console.log(a)},eventAddElement:function(b,d){var e=".add-master-field",f={jClon:b,options:d};a(c).on("click",e,f,h.crearObj)},eventDeleteElement:function(){var b=".cancel-master-field";a(c).on("click",b,h.eliminaObj)},formatear:function(a,b,c){b.addClass("first-master-field");var d=a.html(),e='<span class="add-master-field"></span></div>';"boolean"==typeof c.buttomAdd&&0==c.buttomAdd?e="":h.debug("buttomAdd: Esta propiedad debe ser un boolean");var f='<div class="container-master-field">'+d+e;a.html(f)},crearObj:function(b){var c=jQuery(".container-master-field ").children(),d=b.data,e=jQuery(this),g=e.length>1?e:c.last();h.debug("jClon :"),h.debug(d.jClon),h.debug("jElement :"),h.debug(d.jElement),h.debug(this),f+=1;var i=d.jClon.children();i.each(function(){var b=a(this).attr("id");a(this).attr("id",b+f)});var j='<span class="add-master-field"></span>',k='<span class="cancel-master-field"></span>';"boolean"==typeof d.options.buttomAdd&&0==d.options.buttomAdd?j="":h.debug("buttomAdd: Esta propiedad debe ser un boolean"),"boolean"==typeof d.options.buttomDelete&&0==d.options.buttomDelete?k="":h.debug("btnDelete: Esta propiedad debe ser un boolean");var l=d.jClon.html(),m='<div  class="container-master-field">'+l+j+k+"</div>";g.parent().after(m)},eliminaObj:function(b){b.data;var d=a(this),e=d.parent();e.remove()}};a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})}})(jQuery,window,document);